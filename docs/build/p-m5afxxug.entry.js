import{r as t,h as i}from"./p-6da8d263.js";const e=class{constructor(i){t(this,i),this.zielWert=3,this.toggle=0,this.wortListe=[],this.abfrageListe=[],this.eingabeDavor="",this.loesungAnzeigen=!1,this.vorherigesloesungAnzeigen=!1,this.synth=window.speechSynthesis,this.voices=[],this.currentVoice=0}abfrageListeNeuAufbauen(){var t=this.zielWert;this.wortListe.map(i=>{i.richtig<t?(t=i.richtig,this.abfrageListe=[],this.abfrageListe.push(i)):i.richtig==t&&this.zielWert>i.richtig&&this.abfrageListe.push(i)});for(var i,e=this.abfrageListe.length;e>0;){i=Math.floor(Math.random()*e);var s=this.abfrageListe[e-=1];this.abfrageListe[e]=this.abfrageListe[i],this.abfrageListe[i]=s}}vorlesen(t,i){var e;if(0==this.voices.length)for(this.voices=this.synth.getVoices(),e=0;e<this.voices.length;e++)"de-DE"!=this.voices[e].lang&&(this.voices[e]=this.voices[this.voices.length-1],this.voices.pop(),e--);0==this.voices.length&&alert("Dieser Webbrowser kann nicht in Deutsch vorlesen - bitte einen anderen verwenden!"),i&&(this.currentVoice+=1,this.currentVoice>=this.voices.length&&(this.currentVoice=0));var s=new SpeechSynthesisUtterance(t);s.voice=this.voices[this.currentVoice],s.pitch=1,s.rate=1,this.synth.speak(s)}zielwertGeaendert(t){this.zielWert=t.target.value}woertListeGeaendert(t){this.eingabeWortliste=t.target.value}woerterUebernehmen(t){if(t.preventDefault(),void 0===this.eingabeWortliste)return-1;var i=this.eingabeWortliste.split("\n");this.wortListe=[];for(const[n,r]of i.entries()){var e=r.trim();if(-1!=e.indexOf('"')&&e.indexOf('"')+2<e.lastIndexOf('"'))e=e.substring(e.indexOf('"')+1,e.lastIndexOf('"'));else{var s=0;r.split(" ").forEach(t=>{t.length>s&&(s=t.length,e=t)})}var h={wort:r.trim(),richtig:0,index:n,antwort:e};r.trim().length>1&&this.wortListe.push(h)}this.abfrageListeNeuAufbauen(),this.vorlesen(this.abfrageListe[0].wort,!1)}eingabeAbgeben(t){t.preventDefault(),this.abfrageListe.length>0&&this.vorlesen(this.abfrageListe[0].wort,!1),""==this.eingabeDavor||this.eingabeDavor!=this.eingabeJetzt?this.eingabeDavor=this.eingabeJetzt:(this.loesungAnzeigen=!0,this.abfrageListe[0].richtig=0)}eingabeEingeben(t){return this.eingabeJetzt=t.target.value,this.loesungAnzeigen=!1,this.vorherigesloesungAnzeigen=!1,this.abfrageListe[0].antwort==this.eingabeJetzt&&(this.vorlesen("richtig!",!1),this.eingabeDavor=this.eingabeJetzt,this.eingabeJetzt="",this.abfrageListe[0].richtig++,this.abfrageListe.shift(),this.vorherigesloesungAnzeigen=!0,0==this.abfrageListe.length&&this.abfrageListeNeuAufbauen(),this.abfrageListe.length>0&&this.vorlesen(this.abfrageListe[0].wort,!1)),-1}render(){return this.toggle=1-this.toggle,0==this.wortListe.length?i("div",{class:"app-home"},i("header",null,i("h1",null,"Lernwort Quiz"),i("button",{onClick:()=>this.vorlesen("Hallo, verstehst Du mich gut?",!0)},"Stimme wechseln!")),i("p",null,"Bitte hier eine die abzufragenden Wörter eingeben.",i("br",null),"Werden mehrere Wörter pro Zeile eingegeben, so wird alles vorgelesen, aber nicht so genau geprüft.",i("br",null),"D.h. es reicht, das längste Wort richtig einzugeben."),i("datalist",{id:"1bis5"},i("option",{value:"1"}),i("option",{value:"2"}),i("option",{value:"3"}),i("option",{value:"4"}),i("option",{value:"5"})),i("form",{onSubmit:t=>this.woerterUebernehmen(t)},i("label",null,"Benötigte richtige Antworten:",i("input",{type:"number",width:1,min:1,max:5,value:this.zielWert,list:"1bis5",size:1,onInput:t=>this.zielwertGeaendert(t)})),i("br",null),i("textarea",{onInput:t=>this.woertListeGeaendert(t),cols:30,rows:10,minlength:5+this.toggle,spellcheck:!0,autoFocus:!0}),i("br",null),i("input",{type:"Submit",value:"Übernehmen"}))):this.abfrageListe.length>0?i("div",{class:"app-home"},i("header",null,i("h1",null,"Lernwort Quiz"),i("button",{onClick:()=>this.vorlesen(this.abfrageListe[0].wort,!0)},"Stimme wechseln!")),i("p",null,i("div",null,i("form",{onSubmit:t=>this.eingabeAbgeben(t)},i("p",null,"Antwort:",i("input",{type:"text",width:20,value:this.eingabeJetzt,autoFocus:!0,minLength:0*this.toggle,onInput:t=>this.eingabeEingeben(t)}),this.loesungAnzeigen||this.vorherigesloesungAnzeigen?this.loesungAnzeigen?this.abfrageListe[0].antwort:""+this.vorherigesloesungAnzeigen?this.eingabeDavor:"":""))))):(this.vorlesen("Du hast alle Lernwörter "+this.zielWert+" mal richtig gehabt. Super!",!1),i("div",{class:"app-home"},i("header",null,i("h1",null,"Lernwort Quiz")),i("div",null,i("p",{class:"richtig"},"Geschafft!"))))}static get style(){return".app-home{padding:10px}button,input{background:#3737b8}button,input,textarea{color:#fff;margin:8px;border:none;font-size:13px;font-weight:700;padding:16px 5px;border-radius:2px;-webkit-box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);box-shadow:0 8px 16px rgba(0,0,0,.1),0 3px 6px rgba(0,0,0,.08);outline:0;letter-spacing:.04em;-webkit-transition:all .15s ease;transition:all .15s ease;cursor:pointer}textarea{background:#ffc}button:hover,input:focus{-webkit-box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);box-shadow:0 3px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.1);-webkit-transform:translateY(1px);transform:translateY(1px)}header{background:#5851ff;color:#fff}.richtig,header{height:56px;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26)}.richtig{background:#ff2;color:#000}h1{color:#fff}h1,p{font-size:1.7rem;font-weight:500;padding:0 12px}p{color:#000}label,textarea{padding:16 12px}input,label,textarea{font-size:1.7rem;font-weight:500;color:#000}input{background:#ffa;padding:16 px;border:none}"}};export{e as app_home};